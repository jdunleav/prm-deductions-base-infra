data "aws_caller_identity" "current" {}

data "aws_ssm_parameter" "inbound_ips" {
  name = "/NHS/${var.environment}-${data.aws_caller_identity.current.account_id}/tf/inbound_ips"
}

data "aws_ssm_parameter" "public-subnet-id" {
  name = "/NHS/${var.environment}-${data.aws_caller_identity.current.account_id}/${var.component_name}-vpc/public-subnet-0-id"
}

data "aws_ssm_parameter" "private-subnet-id" {
  name = "/NHS/${var.environment}-${data.aws_caller_identity.current.account_id}/${var.component_name}-vpc/private-subnet-0-id"
}

data "aws_ssm_parameter" "vpc-id" {
  name = "/NHS/${var.environment}-${data.aws_caller_identity.current.account_id}/${var.component_name}-vpc/id"
}

data "aws_ssm_parameter" "transit-public-subnet-id" {
  name = "/NHS/${var.environment}-${data.aws_caller_identity.current.account_id}/${var.component_name}-vpc/public-subnet-0-id"
}

data "aws_ssm_parameter" "transit-private-subnet-id" {
  name = "/NHS/${var.environment}-${data.aws_caller_identity.current.account_id}/${var.component_name}-vpc/private-subnet-0-id"
}

data "aws_ssm_parameter" "transit-vpc-id" {
  name = "/NHS/${var.environment}-${data.aws_caller_identity.current.account_id}/${var.component_name}-vpc/id"
}

data "aws_ssm_parameter" "transit-private-subnet-rtb-id" {
  name = "/NHS/${var.environment}-${data.aws_caller_identity.current.account_id}/${var.component_name}-vpc/private-subnet-0-rtb-id"
}

data "aws_ami" "amazon_linux_2" {
 most_recent = true

 filter {
   name   = "name"
   values = ["amzn2-ami-hvm*"]
 }

 filter {
   name = "architecture"
   values = ["x86_64"]
 }

 owners = ["137112412989"] #amazon
}
